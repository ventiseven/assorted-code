services:
  mc-server:
    image: local/neoforge-mc:21.1.206
    init: true
    environment:
      MEMORY: "8192"
      ACCEPT_EULA: "true"
      ALLOW_FLIGHT: "true"
      DIFFICULTY: "hard"
      ENABLE_COMMAND_BLOCK: "true"
      ENFORCE_SECURE_PROFILE: "false"
      ENFORCE_WHITELIST: "true"
      MAX_PLAYERS: "3"
      MOTD: "NeoForge Minecraft Server"
    ports:
      - 127.0.0.1:25565:25565/tcp
    volumes:
      - type: bind
        source: ./runtime
        target: /opt/server-runtime
